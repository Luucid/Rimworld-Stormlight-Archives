<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <ToolCapacityDef>
    <defName>SoulCut</defName>
    <label>soul cut</label>
  </ToolCapacityDef>
  <ToolCapacityDef>
    <defName>SoulStab</defName>
    <label>soul stab</label>
  </ToolCapacityDef>
  
  

<ManeuverDef>
  <defName>Maneuver_SoulCut</defName>
  <requiredCapacity>SoulCut</requiredCapacity>
  <verb>
    <verbClass>Verb_MeleeAttackDamage</verbClass>
    <meleeDamageDef>Lucid_SoulCut</meleeDamageDef>
  </verb>
  <logEntryDef>MeleeAttack</logEntryDef>
  <combatLogRulesHit>Maneuver_Slash_MeleeHit</combatLogRulesHit>
  <combatLogRulesDeflect>Maneuver_Slash_MeleeDeflect</combatLogRulesDeflect>
  <combatLogRulesMiss>Maneuver_Slash_MeleeMiss</combatLogRulesMiss>
  <combatLogRulesDodge>Maneuver_Slash_MeleeDodge</combatLogRulesDodge>
</ManeuverDef>

<ManeuverDef>
  <defName>Maneuver_SoulStab</defName>
  <requiredCapacity>SoulStab</requiredCapacity>
  <verb>
    <verbClass>Verb_MeleeAttackDamage</verbClass>
    <meleeDamageDef>Lucid_SoulStab</meleeDamageDef>
  </verb>
  <logEntryDef>MeleeAttack</logEntryDef>
  <combatLogRulesHit>Maneuver_Stab_MeleeHit</combatLogRulesHit>
  <combatLogRulesDeflect>Maneuver_Stab_MeleeDeflect</combatLogRulesDeflect>
  <combatLogRulesMiss>Maneuver_Stab_MeleeMiss</combatLogRulesMiss>
  <combatLogRulesDodge>Maneuver_Stab_MeleeDodge</combatLogRulesDodge>
</ManeuverDef>

  
  
	<DamageDef Name="Lucid_SoulDamage">
		<defName>Lucid_SoulDamage</defName>
		<workerClass>DamageWorker_SoulDamage</workerClass>
		<label>soul</label>
		<hasForcefulImpact>false</hasForcefulImpact>
		<makesBlood>false</makesBlood>
		<canInterruptJobs>false</canInterruptJobs>
		<externalViolence>true</externalViolence>
		<deathMessage>{0} eyes burned out while falling to the ground.</deathMessage>
		<hediff>Burn</hediff>
		<armorCategory>Sharp</armorCategory>
		<minDamageToFragment>150</minDamageToFragment>
		<defaultDamage>100</defaultDamage>
		<defaultArmorPenetration>100</defaultArmorPenetration>
		<canUseDeflectMetalEffect>false</canUseDeflectMetalEffect>
	</DamageDef>
	
<DamageDef ParentName="Lucid_SoulDamage">
  <defName>Lucid_SoulCut</defName>
  <label>soul cut</label>
  <workerClass>DamageWorker_SoulDamage</workerClass>
  <hediff>Cut</hediff>  <!-- Applies cut wounds like normal blades -->
  <hediffSkin>Cut</hediffSkin>  <!-- Skin layer injury -->
  <hediffSolid>Crack</hediffSolid>  <!-- Bone damage -->
  <impactSoundType>Slice</impactSoundType>
  <armorCategory>Sharp</armorCategory>  <!-- Makes it work like a normal sword -->
  <harmAllLayersUntilOutside>true</harmAllLayersUntilOutside>  <!-- Cuts through all layers -->
  <overkillPctToDestroyPart>0~0.1</overkillPctToDestroyPart>  <!-- Required to destroy limbs properly -->
</DamageDef>
<DamageDef ParentName="Lucid_SoulDamage">
  <defName>Lucid_SoulStab</defName>
  <label>soul stab</label>
  <workerClass>DamageWorker_SoulDamage</workerClass>  <!-- Use the correct class -->
  <hediff>Stab</hediff>  <!-- Creates stab wounds -->
  <hediffSolid>Crack</hediffSolid>  <!-- Bone damage -->
  <impactSoundType>Slice</impactSoundType>
  <armorCategory>Sharp</armorCategory>  <!-- Correct armor handling -->
  <stabChanceOfForcedInternal>0.6</stabChanceOfForcedInternal>  <!-- Stab wounds can hit internal organs -->
  <overkillPctToDestroyPart>0.4~1.0</overkillPctToDestroyPart>
</DamageDef>

  <ThingDef Name="BaseWeaponShard" Abstract="True" ParentName="BaseWeapon">
    <smeltable>false</smeltable>
    <burnableByRecipe>true</burnableByRecipe>
    <techLevel>Animal</techLevel>
    <thingCategories>
      <li>WeaponsMelee</li>
    </thingCategories>
    <weaponClasses>
      <li>Melee</li>
    </weaponClasses>
    <relicChance>1</relicChance>
    <inspectorTabs>
      <li>ITab_Art</li>
    </inspectorTabs>
    <tradeTags>
      <li>WeaponMelee</li>
    </tradeTags>
  </ThingDef>
  
  <ThingDef ParentName="BaseWeaponShard">
    <defName>MeleeWeapon_Shardblade</defName>
    <label>shardblade</label>
    <description>The ancient weapon of kings, the longsword can be used for slashing or stabbing.</description>
    <possessionCount>1</possessionCount>
	
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponMelee/LongSword</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <weaponTags>
      <li>ShardBlade</li>
    </weaponTags>
    <statBases>
      <Mass>0.5</Mass>
    </statBases>
    <equippedAngleOffset>-65</equippedAngleOffset>
    <stuffCategories>
      <li>ShardStuff</li>
    </stuffCategories>
	<costStuffCount>0</costStuffCount>
    <tools>
      <li>
        <label>point</label>
        <capacities>
          <li>SoulStab</li>
        </capacities>
        <power>100</power>
        <cooldownTime>2.6</cooldownTime>
      </li>
      <li>
        <label>edge</label>
        <capacities>
          <li>SoulCut</li>
        </capacities>
        <power>100</power>
        <cooldownTime>2.6</cooldownTime>
      </li>
    </tools>
	
	
	
  </ThingDef>

</Defs>