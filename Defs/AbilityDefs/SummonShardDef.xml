<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <AbilityCategoryDef>
    <defName>Radiant</defName>
    <label>Radiant</label>
    <description>Abilities granted to Radiants, powered by their connection to the ancient forces.</description>
  </AbilityCategoryDef>

  <AbilityDef Name="RadiantBase" Abstract="True">
    <abilityClass>StormlightMod.RadiantAbility</abilityClass> <!-- Custom ability class -->
    <category>Radiant</category> <!-- Custom category for Radiant abilities -->
    <statBases>
      <Ability_Duration>0</Ability_Duration> <!-- Base duration -->
    </statBases>
    <warmupSound>PsycastCastLoop</warmupSound> <!-- Custom sound for radiant abilities -->
    <verbProperties>
      <verbClass>StormlightMod.Verb_CastRadiant</verbClass> <!-- Custom verb class -->
      <range>24.9</range>
      <requireLineOfSight>True</requireLineOfSight>
      <warmupTime>1</warmupTime>
      <targetParams>
        <canTargetBuildings>False</canTargetBuildings>
        <canTargetAnimals>False</canTargetAnimals>
        <thingCategory>Item</thingCategory>
        <mapObjectTargetsMustBeAutoAttackable>False</mapObjectTargetsMustBeAutoAttackable>
      </targetParams>
    </verbProperties>
  </AbilityDef>



<AbilityDef ParentName="RadiantBase">
    <defName>SummonShardblade</defName>
    <label>Summon Shardblade</label>
    <description>Summon a powerful Shardblade from the Spiritual Realm into your hand.</description>
    <level>1</level>
    <iconPath>Things/Apparel/SpherePouch</iconPath> 
    <hotKey>Misc1</hotKey>
    <hostile>false</hostile>
    <casterMustBeCapableOfViolence>true</casterMustBeCapableOfViolence>
    
    <statBases>
        <Ability_EntropyGain>0</Ability_EntropyGain> 
        <Ability_PsyfocusCost>0</Ability_PsyfocusCost> 
    </statBases>

    <verbProperties>
        <warmupTime>0.5</warmupTime>
        <range>0</range> 
        <targetParams>
            <canTargetSelf>true</canTargetSelf>
        </targetParams>
    </verbProperties>

    <comps>
        <!-- Effect: Give the pawn a Shardblade -->
        <li Class="StormlightMod.CompProperties_AbilitySpawnEquipment">
            <compClass>StormlightMod.CompAbilityEffect_SpawnEquipment</compClass>
            <thingDef>MeleeWeapon_Shardblade</thingDef> <!-- Ensure this matches your XML weapon defName -->
        </li>

        <!-- Cool visual effect when summoning -->
        <li Class="CompProperties_AbilityFleckOnTarget">
            <fleckDef>PsycastPsychicEffect</fleckDef>
        </li>
    </comps>
</AbilityDef>

<AbilityDef ParentName="RadiantBase">
    <defName>unbondBlade</defName>
    <label>sever bond with Shardblade</label>
    <description>Sever the bond with the blade.</description>
    <level>1</level>
    <iconPath>Things/Apparel/ArmorFront-1</iconPath> 
    <hotKey>Misc2</hotKey>
    <hostile>false</hostile>
    <casterMustBeCapableOfViolence>true</casterMustBeCapableOfViolence>
    
    <statBases>
        <Ability_EntropyGain>0</Ability_EntropyGain> 
        <Ability_PsyfocusCost>0</Ability_PsyfocusCost> 
    </statBases>

    <verbProperties>
        <warmupTime>0.5</warmupTime>
        <range>0</range> 
        <targetParams>
            <canTargetSelf>true</canTargetSelf>
        </targetParams>
    </verbProperties>

    <comps>
        <li Class="StormlightMod.CompProperties_AbilityBreakBond">
            <compClass>StormlightMod.CompAbilityEffect_BreakBondWithSword</compClass>
            <thingDef>MeleeWeapon_Shardblade</thingDef> <!-- Ensure this matches your XML weapon defName -->
        </li>
    </comps>
</AbilityDef>
</Defs>
